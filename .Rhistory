facet_wrap(~Model)
AR6 %>%
filter(Variable =="Emissions|NOx") %>%
ggplot(aes(x = year, y = MTCO2, group = Scenario))+
geom_line(alpha = .3)+
facet_wrap(~Model)
AR6 %>%
filter(Variable =="Emissions|NOx") %>%
distinct(value)
AR6 %>%
filter(Variable =="Emissions|NOx") %>%
distinct(Unit)
AR6 %>%
filter(Variable =="Emissions|NOx") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)+
labs(y = "Mt NO2/yr")
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS|Fossil|Industrial Processes") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
distinct(Unit)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
distinct(Unit)-> pull(Unit)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
distinct(Unit) %>%  pull(Unit) -> Unit
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
distinct(Unit) %>%  pull(Unit) -> Unit
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)+
lab(y = Unit)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)+
labs(y = Unit)
AR6 %>%
filter(Variable =="Emissions|F-Gases") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)
AR6 %>%
filter(Variable =="Carbon Sequestration|CCS") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)+
labs(y = Unit)
AR6 %>%
filter(Variable =="Emissions|F-Gases") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+  ## interaction으로 two variable을 group
geom_line(alpha = .1)
AR6 %>%
filter(Variable =="Emissions|NOx" & Model =="GCAM 5.3") %>%
ggplot(aes(x = year, y = value, group = Scenario, color = Scenario))+
geom_line()+
gghighlight(Scenario %in% c('SSP_SSP1', 'SSP_SSP2', 'SSP_SSP3', 'SSP_SSP4', 'SSP_SSP5'))
AR6 %>%
filter(Variable =="Emissions|CO2|Energy and Industrial Processes" & Model =="GCAM 5.3") %>%
ggplot(aes(x = year, y = value, group = Scenario))+
geom_line(alpha = .3)
unique(AR6$Variable)
AR6 %>%
filter(Variable =="Price|Carbon") %>%
ggplot(aes(x = year, y = value,  group = interaction(Scenario, Model)))+
geom_line(alpha = .3)
AR6 %>%
filter(Variable =="Emissions|CO2|Energy and Industrial Processes" & Model =="GCAM 5.3") %>%
ggplot(aes(x = year, y = value, group = Scenario))+
geom_line(alpha = .3)
AR6 %>%
filter(Variable =="Emissions|NOx" & Model =="GCAM 5.3") %>%
ggplot(aes(x = year, y = value, group = Scenario, color = Scenario))+
geom_line()+
gghighlight(Scenario %in% c('SSP_SSP1', 'SSP_SSP2', 'SSP_SSP3', 'SSP_SSP4', 'SSP_SSP5'))
AR6 %>%
filter(Variable =="Emissions|CO2|Energy and Industrial Processes" & Model =="GCAM 5.3") %>%
ggplot(aes(x = year, y = value, group = Scenario))+
geom_line(alpha = .3)
unique(AR6$Variable)
AR6 %>%
filter(Variable =="Price|Carbon") %>%
ggplot(aes(x = year, y = value,  group = interaction(Scenario, Model)))+
geom_line(alpha = .3)
unique(AR6$Variable)
AR6 %>%
filter(Variable =="AR6 climate diagnostics|Effective Radiative Forcing|FaIRv1.6.2|5.0th Percentile") %>%
ggplot(aes(x = year, y = value, group = Scenario))+
geom_line(linewidth = .3)+
facet_wrap(~Model)
AR6 %>%
filter(Variable =="Final Energy|Industry|Heat") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable =="Final Energy|Industry|Heat") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.2)
AR6 %>%
filter(Variable =="AR6 climate diagnostics|Effective Radiative Forcing|FaIRv1.6.2|5.0th Percentile") %>%
ggplot(aes(x = year, y = value, group = Scenario))+
geom_line(linewidth = .3)+
facet_wrap(~Model)
AR6 %>%
filter(Variable =="GDP|MER") %>%
distinct(Unit)
AR6 %>%
filter(Variable =="GDP|MER") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable =="GDP|MER") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)+
lab(y = "billion US$2010/yr")
AR6 %>%
filter(Variable =="GDP|MER") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)+
labs(y = "billion US$2010/yr")
AR6 %>%
filter(Variable =="Carbon Sequestration|Direct Air Capture") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)
unique(AR6$Variable)
AR6 %>%
filter(Variable ==str_contain(Variable, "Sequestration"))
AR6 %>%
filter(Variable ==str_detect(Variable, "Sequestration"))
AR6 %>%
filter(Variable ==str_detect(Variable, "Carbon Sequestration"))
AR6 %>%
filter(Variable ==str_contains(Variable, "Carbon Sequestration"))
filter(Variable ==gre[(Variable, "Carbon Sequestration"))
AR6 %>%
filter(Variable == grep(Variable, "Carbon Sequestration"))
AR6 %>%
filter(Variable == grepl(Variable, "Carbon Sequestration"))
AR6 %>%
filter(Variable == grepl("Carbon Sequestration", Variable))
AR6 %>%
select(Variable, contains("Carbon Sequestration"))
AR6 %>%
select(Variable, contains("Carbon Sequestration")) %>% View()
AR6 %>%
filter(Variable == str_detect(Variable, "Carbon"))
AR6 %>%
filter(tr_detect(Variable, "Carbon"))
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration"))
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
unique(Variable)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable) %>% View()
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable)[2, 11, 17]
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable)[2]
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable) %>% head(@0)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable) %>% head(20)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model), color = Variable))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
#   "Carbon Sequestration|CCS|Biomass",
#  "Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
#  "Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass"
#  "Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable) %>% head(20)
AR6 %>%
filter(str_detect(Variable, "Carbon Sequestration")) %>%
distinct(Variable) %>% View()
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
unique(AR6$scenario
unique(AR6$scenario)
unique(AR6$scenario)
unique(AR6$Scenario)
library(tidyverse)
options(scipen =999)
getwd()
setwd("C:/R/Rproject/jiseok_personal/AR6")
unique(AR6_meta$Category_name)
unique(AR6_meta$Regional_scope)
head(AR6)
str(AR6)
unique(AR6$Model)
unique(AR6$Scenario)
unique(AR6$Variable)
seq(2020, 2100, 5)
AR6 %>%
filter(Variable =="Carbon Sequestration|Direct Air Capture") %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)
unique(AR6$Scenario)
str(AR6)
unique(Model)
unique(AR6$Model)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
AR6 %>%
filter(Variable =="GDP|MER") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)+
labs(y = "billion US$2010/yr")
AR6 %>%
filter(Variable =="GDP|MER")
AR6 %>%
filter(Variable =="GDP|MER") %>%
#distinct(Unit)
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model)))+
geom_line(alpha =.3)+
labs(y = "billion US$2010/yr")
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
))
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_boxplot()+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, color = Variable))+
geom_boxplot()+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
))
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_point()+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_boxplot()+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, color = Variable))+
geom_boxplot()+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, color = Variable))+
geom_boxplot()
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
))
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, color = Variable))+
geom_boxplot(position = position_dodge())
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(position = position_dodge())
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(position = position_dodge())+
facet_wrap(~variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(position = position_dodge())+
facet_wrap(~Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(position = position_dodge())+
facet_wrap(~Variable)+
theme(legend.position="none")
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(outlier.size=1)+
facet_wrap(~Variable)+
theme(legend.position="none")
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(outlier.size=.3)+
facet_wrap(~Variable)+
theme(legend.position="none")
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(outlier.size=.3, width = 3)+
facet_wrap(~Variable)+
theme(legend.position="none")
unique(AR6$Scenario)
AR6 %>%
filter(Scenario %in% c("SSP1", "SSP2", "SSP3", "SSP4", "SSP5"))
AR6 %>%
filter(Scenario %in% c("SSP1", "SSP2", "SSP3", "SSP4", "SSP5")) %>% distinct(Model)
unique(AR6$Model)
unique(AR6$Scenario)
AR6 %>%
filter(Scenario %in% c("SSP1", "SSP2", "SSP3", "SSP4", "SSP5"))
AR6 %>%
filter(Scenario %in% c("SSP1", "SSP2", "SSP3", "SSP4", "SSP5")) %>% distinct(Variable)
AR6 %>%
filter(Scenario %in% c("SSP1", "SSP2", "SSP3", "SSP4", "SSP5")) %>% distinct(Variable) %>% View()
unique(AR6$Variable)
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = year, color = Variable))+
geom_boxplot(outlier.size=.3, width = 3)+
facet_wrap(~Variable)+
theme(legend.position="none")
AR6 %>%
filter(Variable %in% c("Carbon Sequestration|Direct Air Capture",
"Carbon Sequestration|CCS|Biomass",
"Carbon Sequestration|Land Use|Afforestation"
)) %>%
ggplot(aes(x = year, y = value, group = interaction(Scenario, Model, Variable), color = Variable))+
geom_line(alpha =.2)+
facet_wrap(~Variable)
unique(AR6$Model)
unique(AR6$Scenario)
library(tidyverse)
options(scipen =999)
getwd()
source("C:/R/Rproject/jiseok_personal/KAIST_IAM_GROUP/231031_KPX/231031_KPX_11.R", echo=TRUE)
getwd()
getwd()
setwd("C:/R/Rproject/jiseok_personal")
setwd("C:/R/Rproject/jiseok_personal/KAIST_IAM_GROUP/231031_KPX")
setwd("C:/R/Rproject/jiseok_personal/KAIST_IAM_GROUP/231031_KPX")
dir()
library(readxl)
KPX_11<- read_excel('2023전망작업_전력거래소분류_KDI전망치반영.xlsx')
KPX_11
KPX_11<- read_excel('2023전망작업_전력거래소분류_KDI전망치반영.xlsx')
KPX_11
KPX_11<- read_excel('2023전망작업_전력거래소분류_KDI전망치반영.xlsx') %>%
pivot_longer(-type, names_to = "year", values_to = "value")
KPX_11
KPX_11<- read_excel('2023전망작업_전력거래소분류_KDI전망치반영.xlsx') %>%
pivot_longer(-type, names_to = "year", values_to = "value") %>%
mutate(year = as.numeric(year))
KPX_11
KPX_11 %>%
ggplot(aes(x = year, y = value, group = type))+
geom_line()
